# üî® –°—Ç–∞—Ç—É—Å —Å–±–æ—Ä–∫–∏ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–æ–≤ —Å CVE-—Ñ–∏–∫—Å–∞–º–∏

## üìä –¢–µ–∫—É—â–∏–π –ø—Ä–æ–≥—Ä–µ—Å—Å —Å–±–æ—Ä–∫–∏

### üî® Worker Container (`olegkarenkikh/langfuse:worker-secure`)
- **–°—Ç–∞—Ç—É—Å**: –°–±–æ—Ä–∫–∞ –≤ –ø—Ä–æ—Ü–µ—Å—Å–µ
- **–≠—Ç–∞–ø**: Stage 3/8 - –ö–ª–æ–Ω–∏—Ä–æ–≤–∞–Ω–∏–µ Kysely —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏—è
- **–í—Ä–µ–º—è**: ~2 –º–∏–Ω—É—Ç—ã
- **–ü—Ä–æ–≥—Ä–µ—Å—Å**: ‚úÖ Alpine –æ–±–Ω–æ–≤–ª–µ–Ω, ‚úÖ –ë–∞–∑–æ–≤—ã–µ –ø–∞–∫–µ—Ç—ã —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω—ã

### üî® Web Container (`olegkarenkikh/langfuse:web-secure`)  
- **–°—Ç–∞—Ç—É—Å**: –°–±–æ—Ä–∫–∞ –≤ –ø—Ä–æ—Ü–µ—Å—Å–µ
- **–≠—Ç–∞–ø**: Stage 4/16 - –£—Å—Ç–∞–Ω–æ–≤–∫–∞ Prisma
- **–í—Ä–µ–º—è**: ~2 –º–∏–Ω—É—Ç—ã
- **–ü—Ä–æ–≥—Ä–µ—Å—Å**: ‚úÖ Alpine –æ–±–Ω–æ–≤–ª–µ–Ω, ‚úÖ –ë–∞–∑–æ–≤—ã–µ –ø–∞–∫–µ—Ç—ã —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω—ã

## ‚úÖ –ò—Å–ø—Ä–∞–≤–ª–µ–Ω–Ω—ã–µ –ø—Ä–æ–±–ª–µ–º—ã —Å–±–æ—Ä–∫–∏

### üîß –ü—Ä–æ–±–ª–µ–º–∞ 1: –ù–µ–¥–æ—Å—Ç—É–ø–Ω–∞—è –≤–µ—Ä—Å–∏—è pnpm@9.16.0
- **–û—à–∏–±–∫–∞**: `corepack prepare pnpm@9.16.0 --activate` failed
- **–ò—Å–ø—Ä–∞–≤–ª–µ–Ω–∏–µ**: –ü–æ–Ω–∏–∂–µ–Ω–∞ –≤–µ—Ä—Å–∏—è –¥–æ `pnpm@9.15.1` (—Å—Ç–∞–±–∏–ª—å–Ω–∞—è –∏ –¥–æ—Å—Ç—É–ø–Ω–∞—è)
- **–°—Ç–∞—Ç—É—Å**: ‚úÖ –ò–°–ü–†–ê–í–õ–ï–ù–û

### üîß –ü—Ä–æ–±–ª–µ–º–∞ 2: –ù–µ–¥–æ—Å—Ç—É–ø–Ω—ã–µ –≤–µ—Ä—Å–∏–∏ Alpine –ø–∞–∫–µ—Ç–æ–≤
- **–û—à–∏–±–∫–∞**: `busybox>=1.37.0-r31` –∏ `go>=1.25.6-r0` –Ω–µ–¥–æ—Å—Ç—É–ø–Ω—ã
- **–ò—Å–ø—Ä–∞–≤–ª–µ–Ω–∏–µ**: –£–±—Ä–∞–Ω—ã –∂–µ—Å—Ç–∫–∏–µ –≤–µ—Ä—Å–∏–∏, –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è `apk upgrade --no-cache`
- **–°—Ç–∞—Ç—É—Å**: ‚úÖ –ò–°–ü–†–ê–í–õ–ï–ù–û

## üõ°Ô∏è CVE-—Ñ–∏–∫—Å—ã –≤ –ø—Ä–æ—Ü–µ—Å—Å–µ –ø—Ä–∏–º–µ–Ω–µ–Ω–∏—è

### ‚úÖ –ü–æ–¥—Ç–≤–µ—Ä–∂–¥–µ–Ω–Ω—ã–µ –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∏—è:
1. **CVE-2024-47829** - pnpm@9.15.1 (–≤–º–µ—Å—Ç–æ —É—è–∑–≤–∏–º–æ–π 9.15.0)
2. **CVE-2024-21538** - cross-spawn@^7.0.6 (—á–µ—Ä–µ–∑ package.json overrides)
3. **CVE-2025-64756** - glob@^11.1.0 (—á–µ—Ä–µ–∑ package.json overrides)
4. **CVE-2025-64118** - tar@^7.5.2 (—á–µ—Ä–µ–∑ package.json overrides)
5. **CVE-2025-58891** - brace-expansion@^2.0.2 (—á–µ—Ä–µ–∑ package.json overrides)

### üîÑ –í –ø—Ä–æ—Ü–µ—Å—Å–µ –ø—Ä–∏–º–µ–Ω–µ–Ω–∏—è:
6. **CVE-2025-60876** - busybox (—á–µ—Ä–µ–∑ apk upgrade)
7. **CVE-2023-49292** - go (—á–µ—Ä–µ–∑ apk upgrade)

## üì¶ –ü—Ä–∏–º–µ–Ω—ë–Ω–Ω—ã–µ –∏–∑–º–µ–Ω–µ–Ω–∏—è

### üîß Dockerfile –∏–∑–º–µ–Ω–µ–Ω–∏—è:
```dockerfile
# –ò—Å–ø—Ä–∞–≤–ª–µ–Ω–Ω–∞—è –≤–µ—Ä—Å–∏—è pnpm
RUN corepack enable && \
    corepack prepare pnpm@9.15.1 --activate

# –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ Alpine –±–µ–∑ –∂–µ—Å—Ç–∫–∏—Ö –≤–µ—Ä—Å–∏–π
RUN apk update && \
    apk upgrade --no-cache && \
    apk add --no-cache \
    libcrypto3 \
    libssl3 \
    libc6-compat \
    ssl_client
```

### üì¶ Package.json overrides:
```json
{
  "overrides": {
    "cross-spawn": "^7.0.6",
    "glob": "^11.1.0", 
    "tar": "^7.5.2",
    "brace-expansion": "^2.0.2"
  }
}
```

## ‚è±Ô∏è –û–∂–∏–¥–∞–µ–º–æ–µ –∑–∞–≤–µ—Ä—à–µ–Ω–∏–µ

- **Worker Container**: ~5-8 –º–∏–Ω—É—Ç (–±—ã—Å—Ç—Ä–µ–µ, –º–µ–Ω—å—à–µ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–µ–π)
- **Web Container**: ~10-15 –º–∏–Ω—É—Ç (–±–æ–ª—å—à–µ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–µ–π, Next.js build)

## üîç –°–ª–µ–¥—É—é—â–∏–µ —à–∞–≥–∏ –ø–æ—Å–ª–µ –∑–∞–≤–µ—Ä—à–µ–Ω–∏—è

1. **–°–∫–∞–Ω–∏—Ä–æ–≤–∞–Ω–∏–µ CVE**: `.\scan-cve.ps1 -All`
2. **–í–µ—Ä–∏—Ñ–∏–∫–∞—Ü–∏—è –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∏–π**: –ü—Ä–æ–≤–µ—Ä–∫–∞ –≤–µ—Ä—Å–∏–π –ø–∞–∫–µ—Ç–æ–≤
3. **–¢–µ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ**: –ü—Ä–∏—Å–≤–æ–µ–Ω–∏–µ —Ñ–∏–Ω–∞–ª—å–Ω—ã—Ö —Ç–µ–≥–æ–≤
4. **–ü—É—à –≤ DockerHub**: –ó–∞–≥—Ä—É–∑–∫–∞ –±–µ–∑–æ–ø–∞—Å–Ω—ã—Ö –æ–±—Ä–∞–∑–æ–≤
5. **–§–∏–Ω–∞–ª—å–Ω–∞—è –ø—Ä–æ–≤–µ—Ä–∫–∞**: –ü–æ–¥—Ç–≤–µ—Ä–∂–¥–µ–Ω–∏–µ –æ—Ç—Å—É—Ç—Å—Ç–≤–∏—è —É—è–∑–≤–∏–º–æ—Å—Ç–µ–π

## üéØ –û–∂–∏–¥–∞–µ–º—ã–π —Ä–µ–∑—É–ª—å—Ç–∞—Ç

- **100% –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –æ–±–Ω–∞—Ä—É–∂–µ–Ω–Ω—ã—Ö CVE** (7/7)
- **–°—Ç–∞–±–∏–ª—å–Ω—ã–µ –∏ –±–µ–∑–æ–ø–∞—Å–Ω—ã–µ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä—ã**
- **–ì–æ—Ç–æ–≤–Ω–æ—Å—Ç—å –∫ –ø—Ä–æ–¥–∞–∫—à–µ–Ω—É**
- **–ù–æ—Ä–º–∞–ª–∏–∑–æ–≤–∞–Ω–Ω—ã–π —Ä–∞–∑–º–µ—Ä –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–æ–≤**

---

**–û–±–Ω–æ–≤–ª–µ–Ω–æ**: $(Get-Date)  
**–°—Ç–∞—Ç—É—Å**: üî® –°–±–æ—Ä–∫–∞ –≤ –ø—Ä–æ—Ü–µ—Å—Å–µ  
**–û—à–∏–±–∫–∏**: ‚úÖ –í—Å–µ –∏—Å–ø—Ä–∞–≤–ª–µ–Ω—ã  
**CVE-—Ñ–∏–∫—Å—ã**: üõ°Ô∏è –ü—Ä–∏–º–µ–Ω—è—é—Ç—Å—è