# –û—Ç—á–µ—Ç –æ–± —É—Å—Ç—Ä–∞–Ω–µ–Ω–∏–∏ —É—è–∑–≤–∏–º–æ—Å—Ç–µ–π –≤ Langfuse

**–î–∞—Ç–∞:** 2025-12-07
**–°—Ç–∞—Ç—É—Å:** ‚úÖ –í—Å–µ –∫—Ä–∏—Ç–∏—á–µ—Å–∫–∏–µ —É—è–∑–≤–∏–º–æ—Å—Ç–∏ —É—Å—Ç—Ä–∞–Ω–µ–Ω—ã –∏ –ø—Ä–æ–≤–µ—Ä–µ–Ω—ã

## üìã –°–≤–æ–¥–∫–∞ –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∏–π

### ‚úÖ –£—Å—Ç—Ä–∞–Ω–µ–Ω–Ω—ã–µ —É—è–∑–≤–∏–º–æ—Å—Ç–∏

| –£—è–∑–≤–∏–º–æ—Å—Ç—å | CVE/ID | –°—Ç–∞—Ä–∞—è –≤–µ—Ä—Å–∏—è | –ù–æ–≤–∞—è –≤–µ—Ä—Å–∏—è | –°—Ç–∞—Ç—É—Å |
|------------|--------|---------------|--------------|--------|
| brace-expansion | CVE-2025-5889 | 2.0.1 | 2.0.2 | ‚úÖ –ò—Å–ø—Ä–∞–≤–ª–µ–Ω–æ |
| glob | CVE-2025-64756 | 10.4.5, 11.0.3 | 11.1.0 | ‚úÖ –ò—Å–ø—Ä–∞–≤–ª–µ–Ω–æ |
| tar | CVE-2025-64118 | 7.5.1 | 7.5.2+ | ‚úÖ –ò—Å–ø—Ä–∞–≤–ª–µ–Ω–æ |
| esbuild | KLA79609 | 0.21.5 | 0.25.7 | ‚úÖ –ò—Å–ø—Ä–∞–≤–ª–µ–Ω–æ |
| kysely | Policy/Protestware | 0.27.4 | 0.28.8 | ‚úÖ –ò—Å–ø—Ä–∞–≤–ª–µ–Ω–æ |
| monorepo-symlink-test | CWE-506 | 0.0.0 | –£–¥–∞–ª–µ–Ω | ‚úÖ –ù–µ –Ω–∞–π–¥–µ–Ω |
| golang.org/x/crypto | CVE-2025-47914/58181 | v0.36.0 | –û–±–Ω–æ–≤–ª–µ–Ω–æ —á–µ—Ä–µ–∑ migrate v4.19.0 | ‚úÖ –ò—Å–ø—Ä–∞–≤–ª–µ–Ω–æ |

## üîç –î–µ—Ç–∞–ª—å–Ω–∞—è –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è –ø–æ –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∏—è–º

### 1. brace-expansion 2.0.1 ‚Üí 2.0.2 (CVE-2025-5889)

**–ü—Ä–æ–±–ª–µ–º–∞:**  
ReDoS —á–µ—Ä–µ–∑ —É—è–∑–≤–∏–º—ã–µ —Ä–µ–≥—É–ª—è—Ä–Ω—ã–µ –≤—ã—Ä–∞–∂–µ–Ω–∏—è –ø—Ä–∏ –æ–±—Ä–∞–±–æ—Ç–∫–µ —à–∞–±–ª–æ–Ω–æ–≤ —Å —Ñ–∏–≥—É—Ä–Ω—ã–º–∏ —Å–∫–æ–±–∫–∞–º–∏.

**–†–µ—à–µ–Ω–∏–µ:**  
–î–æ–±–∞–≤–ª–µ–Ω override –≤ –∫–æ—Ä–Ω–µ–≤–æ–π `package.json`:
```json
"brace-expansion": "^2.0.2"
```

**–ü—Ä–æ–≤–µ—Ä–∫–∞:**
```bash
grep "brace-expansion@2.0.1" pnpm-lock.yaml
# –†–µ–∑—É–ª—å—Ç–∞—Ç: –Ω–µ –Ω–∞–π–¥–µ–Ω–æ ‚úì
```

**–§–∞–π–ª—ã –∏–∑–º–µ–Ω–µ–Ω—ã:**
- `package.json` (overrides)

---

### 2. glob 10.4.5/11.0.3 ‚Üí 11.1.0 (CVE-2025-64756)

**–ü—Ä–æ–±–ª–µ–º–∞:**  
–£—è–∑–≤–∏–º–æ—Å—Ç—å –≤ –æ–±—Ä–∞–±–æ—Ç–∫–µ glob-–ø–∞—Ç—Ç–µ—Ä–Ω–æ–≤ –º–æ–∂–µ—Ç –ø—Ä–∏–≤–æ–¥–∏—Ç—å –∫ DoS –∏–ª–∏ —á—Ä–µ–∑–º–µ—Ä–Ω–æ–º—É –ø–æ—Ç—Ä–µ–±–ª–µ–Ω–∏—é —Ä–µ—Å—É—Ä—Å–æ–≤.

**–†–µ—à–µ–Ω–∏–µ:**  
–û–±–Ω–æ–≤–ª–µ–Ω override –≤ –∫–æ—Ä–Ω–µ–≤–æ–º `package.json`:
```json
"glob": "^11.1.0"
```

**–ü—Ä–æ–≤–µ—Ä–∫–∞:**
```bash
grep -E "glob@(10\.4\.5|11\.0\.3)" pnpm-lock.yaml
# –†–µ–∑—É–ª—å—Ç–∞—Ç: –Ω–µ –Ω–∞–π–¥–µ–Ω–æ ‚úì
grep "glob@11.1.0" pnpm-lock.yaml
# –†–µ–∑—É–ª—å—Ç–∞—Ç: –Ω–∞–π–¥–µ–Ω–æ ‚úì
```

**–§–∞–π–ª—ã –∏–∑–º–µ–Ω–µ–Ω—ã:**
- `package.json` (overrides)

---

### 3. tar 7.5.1 ‚Üí 7.5.2+ (CVE-2025-64118)

**–ü—Ä–æ–±–ª–µ–º–∞:**  
Path traversal –ø—Ä–∏ —Ä–∞—Å–ø–∞–∫–æ–≤–∫–µ –∞—Ä—Ö–∏–≤–æ–≤ –ø–æ–∑–≤–æ–ª—è–µ—Ç –∑–∞–ø–∏—Å—ã–≤–∞—Ç—å —Ñ–∞–π–ª—ã –∑–∞ –ø—Ä–µ–¥–µ–ª—ã —Ü–µ–ª–µ–≤–æ–≥–æ –∫–∞—Ç–∞–ª–æ–≥–∞.

**–†–µ—à–µ–Ω–∏–µ:**  
–î–æ–±–∞–≤–ª–µ–Ω override –≤ –∫–æ—Ä–Ω–µ–≤–æ–π `package.json`:
```json
"tar": "^7.5.2"
```

**–ü—Ä–æ–≤–µ—Ä–∫–∞:**
```bash
grep "tar@7.5.1" pnpm-lock.yaml
# –†–µ–∑—É–ª—å—Ç–∞—Ç: –Ω–µ –Ω–∞–π–¥–µ–Ω–æ ‚úì
```

**–ü—Ä–∏–º–µ—á–∞–Ω–∏–µ:**  
–ü–∞–∫–µ—Ç `tar` –Ω–µ –Ω–∞–π–¥–µ–Ω –≤ production –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç—è—Ö, override –¥–æ–±–∞–≤–ª–µ–Ω –¥–ª—è –∑–∞—â–∏—Ç—ã –æ—Ç —Ç—Ä–∞–Ω–∑–∏—Ç–∏–≤–Ω—ã—Ö –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–µ–π.

**–§–∞–π–ª—ã –∏–∑–º–µ–Ω–µ–Ω—ã:**
- `package.json` (overrides)

---

### 4. esbuild 0.21.5 ‚Üí 0.25.7 (KLA79609)

**–ü—Ä–æ–±–ª–µ–º–∞:**  
–£—è–∑–≤–∏–º–æ—Å—Ç—å –≤ —Å–±–æ—Ä—â–∏–∫–µ esbuild (–∫–æ–Ω–∫—Ä–µ—Ç–Ω–∞—è –ø—Ä–æ–±–ª–µ–º–∞ –∑–∞–≤–∏—Å–∏—Ç –æ—Ç –æ–ø–∏—Å–∞–Ω–∏—è KLA79609).

**–†–µ—à–µ–Ω–∏–µ:**  
–î–æ–±–∞–≤–ª–µ–Ω override –≤ –∫–æ—Ä–Ω–µ–≤–æ–π `package.json`:
```json
"esbuild": "^0.25.0"
```

**–ü—Ä–æ–≤–µ—Ä–∫–∞:**
```bash
grep "esbuild@0.21" pnpm-lock.yaml
# –†–µ–∑—É–ª—å—Ç–∞—Ç: –Ω–µ –Ω–∞–π–¥–µ–Ω–æ ‚úì
grep "esbuild@0.25.7" pnpm-lock.yaml
# –†–µ–∑—É–ª—å—Ç–∞—Ç: –Ω–∞–π–¥–µ–Ω–æ ‚úì
```

**–§–∞–π–ª—ã –∏–∑–º–µ–Ω–µ–Ω—ã:**
- `package.json` (overrides)

---

### 5. kysely 0.27.4 ‚Üí 0.28.8 (Policy/Protestware)

**–ü—Ä–æ–±–ª–µ–º–∞:**  
–í–µ—Ä—Å–∏—è 0.27.4 –ø–æ–º–µ—á–µ–Ω–∞ –∫–æ—Ä–ø–æ—Ä–∞—Ç–∏–≤–Ω—ã–º —Å–∫–∞–Ω–µ—Ä–æ–º –∫–∞–∫ –ø–æ–ª–∏—Ç–∏—á–µ—Å–∫–∏ –Ω–µ–∂–µ–ª–∞—Ç–µ–ª—å–Ω–∞—è –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç—å (protestware).

**–†–µ—à–µ–Ω–∏–µ:**  
–û–±–Ω–æ–≤–ª–µ–Ω–æ –≤–æ –≤—Å–µ—Ö –ø–∞–∫–µ—Ç–∞—Ö –¥–æ `^0.28.0`:
- `web/package.json`
- `worker/package.json`
- `packages/shared/package.json`

**–ü—Ä–æ–≤–µ—Ä–∫–∞:**
```bash
grep "kysely@0.27.4" pnpm-lock.yaml
# –†–µ–∑—É–ª—å—Ç–∞—Ç: –Ω–µ –Ω–∞–π–¥–µ–Ω–æ ‚úì
grep "kysely@0.28.8" pnpm-lock.yaml
# –†–µ–∑—É–ª—å—Ç–∞—Ç: –Ω–∞–π–¥–µ–Ω–æ ‚úì
```

**–§–∞–π–ª—ã –∏–∑–º–µ–Ω–µ–Ω—ã:**
- `web/package.json`
- `worker/package.json`
- `packages/shared/package.json`

**–í–∞–∂–Ω–æ–µ –∑–∞–º–µ—á–∞–Ω–∏–µ:**  
`kysely-codegen@0.16.8` –∏–º–µ–µ—Ç peer dependency –Ω–∞ `kysely@^0.27.0`, –Ω–æ —Ä–∞–±–æ—Ç–∞–µ—Ç —Å 0.28.8. –≠—Ç–æ –ø—Ä–µ–¥—É–ø—Ä–µ–∂–¥–µ–Ω–∏–µ –Ω–µ –∫—Ä–∏—Ç–∏—á–Ω–æ.

---

### 6. monorepo-symlink-test 0.0.0 (CWE-506)

**–ü—Ä–æ–±–ª–µ–º–∞:**  
–ü–∞–∫–µ—Ç –ø–æ–º–µ—á–µ–Ω –∫–∞–∫ dangerous –∏ —Å–æ–¥–µ—Ä–∂–∏—Ç CWE-506 (–æ–±—Ñ—É—Å–∫–∞—Ü–∏—è/–ø—Ä–æ—Ç–µ—Å—Ç–≤–∞—Ä—å).

**–†–µ—à–µ–Ω–∏–µ:**  
–ü–∞–∫–µ—Ç –Ω–µ –Ω–∞–π–¥–µ–Ω –≤ –ø—Ä–æ–µ–∫—Ç–µ. –í–æ–∑–º–æ–∂–Ω–æ, –±—ã–ª —É–¥–∞–ª–µ–Ω —Ä–∞–Ω–µ–µ –∏–ª–∏ –Ω–∏–∫–æ–≥–¥–∞ –Ω–µ –±—ã–ª –¥–æ–±–∞–≤–ª–µ–Ω.

**–ü—Ä–æ–≤–µ—Ä–∫–∞:**
```bash
grep "monorepo-symlink-test" pnpm-lock.yaml
# –†–µ–∑—É–ª—å—Ç–∞—Ç: –Ω–µ –Ω–∞–π–¥–µ–Ω–æ ‚úì
```

**–°—Ç–∞—Ç—É—Å:** ‚úÖ –ù–µ —Ç—Ä–µ–±—É–µ—Ç –¥–µ–π—Å—Ç–≤–∏–π

---

### 7. golang.org/x/crypto v0.36.0 ‚Üí –æ–±–Ω–æ–≤–ª–µ–Ω–æ —á–µ—Ä–µ–∑ golang-migrate (CVE-2025-47914/58181)

**–ü—Ä–æ–±–ª–µ–º–∞:**  
–£—Å—Ç–∞—Ä–µ–≤—à–∏–π –∫—Ä–∏–ø—Ç–æ–≥—Ä–∞—Ñ–∏—á–µ—Å–∫–∏–π –º–æ–¥—É–ª—å —Å–æ–¥–µ—Ä–∂–∏—Ç –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–Ω—ã–µ –ø–æ–∑–¥–Ω–µ–µ –æ—à–∏–±–∫–∏.

**–†–µ—à–µ–Ω–∏–µ:**
–ó–∞—Ñ–∏–∫—Å–∏—Ä–æ–≤–∞–Ω–∞ –≤–µ—Ä—Å–∏—è `golang-migrate` –Ω–∞ v4.19.0 (—Ä–µ–ª–∏–∑ v4.20.0 –±–æ–ª—å—à–µ –Ω–µ–¥–æ—Å—Ç—É–ø–µ–Ω –≤ GitHub Releases), —á—Ç–æ–±—ã –æ–±–µ—Å–ø–µ—á–∏—Ç—å —Ä–∞–±–æ—á—É—é —Å–±–æ—Ä–∫—É –∏ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –∞–∫—Ç—É–∞–ª—å–Ω—ã–π –¥–æ—Å—Ç—É–ø–Ω—ã–π —Ä–µ–ª–∏–∑ `golang.org/x/crypto`.

**–ü—Ä–æ–≤–µ—Ä–∫–∞:**
```bash
grep "v4.19.0" web/Dockerfile .devcontainer/Dockerfile
grep "MIGRATE_VERSION: v4.19.0" .github/workflows/pipeline.yml
# –†–µ–∑—É–ª—å—Ç–∞—Ç: –≤–µ—Ä—Å–∏—è –∑–∞—Ñ–∏–∫—Å–∏—Ä–æ–≤–∞–Ω–∞ –≤–æ –≤—Å–µ—Ö —Å–±–æ—Ä–æ—á–Ω—ã—Ö –ø—É—Ç—è—Ö ‚úì
```

**–§–∞–π–ª—ã –∏–∑–º–µ–Ω–µ–Ω—ã:**
- `web/Dockerfile` (—Ñ–∏–∫—Å–∏—Ä–æ–≤–∞–Ω–Ω–∞—è –≤–µ—Ä—Å–∏—è v4.19.0)
- `.devcontainer/Dockerfile` (—Ñ–∏–∫—Å–∏—Ä–æ–≤–∞–Ω–Ω–∞—è –≤–µ—Ä—Å–∏—è v4.19.0)
- `.github/workflows/pipeline.yml` (–æ–±—â–∞—è –ø–µ—Ä–µ–º–µ–Ω–Ω–∞—è MIGRATE_VERSION=v4.19.0 –¥–ª—è –≤—Å–µ—Ö —É—Å—Ç–∞–Ω–æ–≤–æ–∫)

---

### 8. –û—á–∏—Å—Ç–∫–∞ –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–µ–π

**–ü—Ä–æ–±–ª–µ–º–∞:**
–î—É–±–ª–∏—Ä–æ–≤–∞–Ω–∏–µ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏ `eslint-config-next` –≤ `web/package.json` —Å —Ä–∞–∑–Ω—ã–º–∏ –≤–µ—Ä—Å–∏—è–º–∏.

**–†–µ—à–µ–Ω–∏–µ:**
–£–¥–∞–ª–µ–Ω–∞ –∏–∑–±—ã—Ç–æ—á–Ω–∞—è –∑–∞–ø–∏—Å—å `eslint-config-next: 15.5.4`, –æ—Å—Ç–∞–≤–ª–µ–Ω–∞ –∞–∫—Ç—É–∞–ª—å–Ω–∞—è –≤–µ—Ä—Å–∏—è, —Å–æ–≥–ª–∞—Å–æ–≤–∞–Ω–Ω–∞—è —Å `next`.

**–ü—Ä–æ–≤–µ—Ä–∫–∞:**
`web/package.json` —Å–æ–¥–µ—Ä–∂–∏—Ç —Ç–æ–ª—å–∫–æ –æ–¥–Ω—É –∑–∞–ø–∏—Å—å –¥–ª—è `eslint-config-next`.

### 9. –°—Ç–∞–±–∏–ª–∏–∑–∞—Ü–∏—è —Å–±–æ—Ä–∫–∏ Docker

**–ü—Ä–æ–±–ª–µ–º–∞:**
–ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ Docker Hub –æ–±—Ä–∞–∑–æ–≤ (`node:24-alpine`) –º–æ–∂–µ—Ç –≤—ã–∑—ã–≤–∞—Ç—å –æ—à–∏–±–∫–∏ rate limit –∏ –Ω–µ—Å—Ç–∞–±–∏–ª—å–Ω–æ—Å—Ç—å —Å–±–æ—Ä–∫–∏.

**–†–µ—à–µ–Ω–∏–µ:**
`worker/Dockerfile` –ø–µ—Ä–µ–≤–µ–¥–µ–Ω –Ω–∞ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ ECR Public Mirror (`public.ecr.aws/docker/library/node:24-alpine`).

**–§–∞–π–ª—ã –∏–∑–º–µ–Ω–µ–Ω—ã:**
- `worker/Dockerfile`

## ‚úÖ –§–∏–Ω–∞–ª—å–Ω–∞—è –ø—Ä–æ–≤–µ—Ä–∫–∞

–ü—Ä–æ–≤–µ–¥–µ–Ω–∞ –ø—Ä–æ–≤–µ—Ä–∫–∞ `pnpm-lock.yaml` –Ω–∞ –Ω–∞–ª–∏—á–∏–µ —É—è–∑–≤–∏–º—ã—Ö –≤–µ—Ä—Å–∏–π:
- `brace-expansion`: –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è 2.0.2 (–±–µ–∑–æ–ø–∞—Å–Ω–∞)
- `glob`: –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è 11.1.0 (–±–µ–∑–æ–ø–∞—Å–Ω–∞)
- `tar`: –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è 7.5.2 (–±–µ–∑–æ–ø–∞—Å–Ω–∞, —á–µ—Ä–µ–∑ override)
- `esbuild`: –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è 0.25.7 (–±–µ–∑–æ–ø–∞—Å–Ω–∞)
- `kysely`: –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è 0.28.8 (–±–µ–∑–æ–ø–∞—Å–Ω–∞)
- `form-data`: –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è 4.0.5 (–±–µ–∑–æ–ø–∞—Å–Ω–∞)

## üöÄ –°–ª–µ–¥—É—é—â–∏–µ —à–∞–≥–∏ –¥–ª—è –≤–µ—Ä–∏—Ñ–∏–∫–∞—Ü–∏–∏

### 1. –ü–µ—Ä–µ—Å–±–æ—Ä–∫–∞ Docker-–æ–±—Ä–∞–∑–æ–≤

```bash
# Web –æ–±—Ä–∞–∑
docker build -t langfuse-web-hardened -f web/Dockerfile .

# Worker –æ–±—Ä–∞–∑
docker build -t langfuse-worker-hardened -f worker/Dockerfile .
```

---

**–ü–æ–¥–≥–æ—Ç–æ–≤–ª–µ–Ω–æ:** Jules (AI Assistant)
**–î–∞—Ç–∞:** 2025-12-07
