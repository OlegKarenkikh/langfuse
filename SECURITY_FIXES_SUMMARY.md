# –û—Ç—á–µ—Ç –æ–± —É—Å—Ç—Ä–∞–Ω–µ–Ω–∏–∏ —É—è–∑–≤–∏–º–æ—Å—Ç–µ–π –≤ Langfuse

**–î–∞—Ç–∞:** 2025-03-03
**–°—Ç–∞—Ç—É—Å:** ‚úÖ –í—Å–µ –∫—Ä–∏—Ç–∏—á–µ—Å–∫–∏–µ —É—è–∑–≤–∏–º–æ—Å—Ç–∏ —É—Å—Ç—Ä–∞–Ω–µ–Ω—ã –∏ –ø—Ä–æ–≤–µ—Ä–µ–Ω—ã

## üìã –°–≤–æ–¥–∫–∞ –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∏–π

### ‚úÖ –£—Å—Ç—Ä–∞–Ω–µ–Ω–Ω—ã–µ —É—è–∑–≤–∏–º–æ—Å—Ç–∏

| –£—è–∑–≤–∏–º–æ—Å—Ç—å | CVE/ID | –°—Ç–∞—Ä–∞—è –≤–µ—Ä—Å–∏—è | –ù–æ–≤–∞—è –≤–µ—Ä—Å–∏—è | –°—Ç–∞—Ç—É—Å |
|------------|--------|---------------|--------------|--------|
| OS Base Image (Web) | - | almalinux:8 | node:22-alpine | ‚úÖ –ò—Å–ø—Ä–∞–≤–ª–µ–Ω–æ |
| prisma | - | 6.17.1 | 7.2.0 | ‚úÖ –ò—Å–ø—Ä–∞–≤–ª–µ–Ω–æ |
| dd-trace | - | 5.65.0 | 5.81.0 | ‚úÖ –ò—Å–ø—Ä–∞–≤–ª–µ–Ω–æ |
| brace-expansion | CVE-2025-5889 | 2.0.1 | 2.0.2 | ‚úÖ –ò—Å–ø—Ä–∞–≤–ª–µ–Ω–æ |
| glob | CVE-2025-64756 | 11.0.3 | 11.1.0 | ‚úÖ –ò—Å–ø—Ä–∞–≤–ª–µ–Ω–æ |
| tar | CVE-2025-64118 | 7.5.1 | 7.5.2 | ‚úÖ –ò—Å–ø—Ä–∞–≤–ª–µ–Ω–æ |
| esbuild | KLA79609 | 0.21.5 | 0.25.7 | ‚úÖ –ò—Å–ø—Ä–∞–≤–ª–µ–Ω–æ |
| kysely | Policy/Protestware | 0.27.4 | 0.28.8 | ‚úÖ –ò—Å–ø—Ä–∞–≤–ª–µ–Ω–æ |
| mdast-util-to-hast | CVE-2025-66400 | 13.0.0-13.2.0 | 13.2.1 | ‚úÖ –ò—Å–ø—Ä–∞–≤–ª–µ–Ω–æ |
| pip (Python) | CVE-2025-8869, 2023-5752+ | Old | N/A (Removed) | ‚úÖ –ò—Å–ø—Ä–∞–≤–ª–µ–Ω–æ |
| setuptools (Python)| CVE-2025-47273, 2024-6345 | Old | N/A (Removed) | ‚úÖ –ò—Å–ø—Ä–∞–≤–ª–µ–Ω–æ |
| Go Runtime | CVE-2025-61729, 61725+ | 1.23.10 | 1.24-alpine | ‚úÖ –ò—Å–ø—Ä–∞–≤–ª–µ–Ω–æ |
| golang.org/x/crypto | CVE-2025-47914/58181 | v0.36.0 | –û–±–Ω–æ–≤–ª–µ–Ω–æ | ‚úÖ –ò—Å–ø—Ä–∞–≤–ª–µ–Ω–æ |

## üîç –î–µ—Ç–∞–ª—å–Ω–∞—è –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è –ø–æ –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∏—è–º

### 1. OS & Base Image Migration (Web Service)
**–ü—Ä–æ–±–ª–µ–º–∞:** –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ `almalinux:8` (395MB+) –º–æ–≥–ª–æ —Å–æ–¥–µ—Ä–∂–∞—Ç—å —É—è–∑–≤–∏–º–æ—Å—Ç–∏ —Å–∏—Å—Ç–µ–º–Ω—ã—Ö –ø–∞–∫–µ—Ç–æ–≤ –∏ —É–≤–µ–ª–∏—á–∏–≤–∞–ª–æ –ø–æ–≤–µ—Ä—Ö–Ω–æ—Å—Ç—å –∞—Ç–∞–∫–∏.
**–†–µ—à–µ–Ω–∏–µ:**
- `web/Dockerfile` –ø–µ—Ä–µ–≤–µ–¥–µ–Ω –Ω–∞ `public.ecr.aws/docker/library/node:22-alpine` (–∫–∞–∫ –∏ `worker`), —á—Ç–æ –∑–Ω–∞—á–∏—Ç–µ–ª—å–Ω–æ —É–º–µ–Ω—å—à–∞–µ—Ç —Ä–∞–∑–º–µ—Ä –æ–±—Ä–∞–∑–∞ –∏ –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ —Å–∏—Å—Ç–µ–º–Ω—ã—Ö —É—è–∑–≤–∏–º–æ—Å—Ç–µ–π.
- –£—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω—ã `apk add --no-cache libc6-compat` –¥–ª—è —Å–æ–≤–º–µ—Å—Ç–∏–º–æ—Å—Ç–∏ —Å Next.js standalone.
- –ò—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è `dumb-init` –∏–∑ Alpine —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏—è.

### 2. NPM Dependencies (prisma, dd-trace)
**–ü—Ä–æ–±–ª–µ–º–∞:** –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ —É—Å—Ç–∞—Ä–µ–≤—à–∏—Ö –≤–µ—Ä—Å–∏–π `prisma` (6.17.1) –∏ `dd-trace` (5.65.0).
**–†–µ—à–µ–Ω–∏–µ:**
- –û–±–Ω–æ–≤–ª–µ–Ω—ã –≤–µ—Ä—Å–∏–∏ –≤ `packages/shared/package.json` –∏ `web/package.json`:
  - `prisma` -> `^7.2.0`
  - `dd-trace` -> `^5.81.0`
- –û–±–Ω–æ–≤–ª–µ–Ω—ã –≥–ª–æ–±–∞–ª—å–Ω—ã–µ –≤–µ—Ä—Å–∏–∏ –≤ `web/Dockerfile` –¥–ª—è —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤–∏—è –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç—è–º –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è.

### 3. NPM Dependencies (glob, tar, brace-expansion)
**–£—è–∑–≤–∏–º–æ—Å—Ç–∏:** CVE-2025-64756 (glob), CVE-2025-64118 (tar), CVE-2025-5889 (brace-expansion).
**–†–µ—à–µ–Ω–∏–µ:**
- **Verified:** –í root `package.json` —É–∂–µ –ø—Ä–∏—Å—É—Ç—Å—Ç–≤—É—é—Ç –Ω–µ–æ–±—Ö–æ–¥–∏–º—ã–µ overrides –¥–ª—è –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–µ–π –ø—Ä–æ–µ–∫—Ç–∞ (`glob: ^11.1.0`, `tar: ^7.5.2`).
- **Added:** –í `web/Dockerfile` (stage `runner`) –¥–æ–±–∞–≤–ª–µ–Ω–∞ —è–≤–Ω–∞—è —É—Å—Ç–∞–Ω–æ–≤–∫–∞ –±–µ–∑–æ–ø–∞—Å–Ω—ã—Ö –≤–µ—Ä—Å–∏–π `tar` –∏ `glob` –¥–ª—è –≥–ª–æ–±–∞–ª—å–Ω—ã—Ö –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç–æ–≤.

### 4. Go Runtime Vulnerabilities
**–ü—Ä–æ–±–ª–µ–º–∞:** –ú–Ω–æ–∂–µ—Å—Ç–≤–µ–Ω–Ω—ã–µ —É—è–∑–≤–∏–º–æ—Å—Ç–∏ –≤ Go Standard Library (1.23.10).
**–†–µ—à–µ–Ω–∏–µ:**
- –°–±–æ—Ä–∫–∞ `migrate` –ø–µ—Ä–µ–≤–µ–¥–µ–Ω–∞ –Ω–∞ –±–∞–∑–æ–≤—ã–π –æ–±—Ä–∞–∑ `golang:1.24-alpine`.
- –í stage `migrate-builder` –¥–æ–±–∞–≤–ª–µ–Ω–∞ –∫–æ–º–∞–Ω–¥–∞ `apk update && apk upgrade`.

### 5. Python Vulnerabilities
**–ü—Ä–æ–±–ª–µ–º–∞:** CVE-2025-8869 –∏ –¥—Ä—É–≥–∏–µ –≤ `pip`/`setuptools`.
**–†–µ—à–µ–Ω–∏–µ:**
- –ü–µ—Ä–µ—Ö–æ–¥ –Ω–∞ Alpine Linux —É—Å—Ç—Ä–∞–Ω—è–µ—Ç –Ω–µ–æ–±—Ö–æ–¥–∏–º–æ—Å—Ç—å –≤ —É–¥–∞–ª–µ–Ω–∏–∏ `rpm` –ø–∞–∫–µ—Ç–æ–≤ python. –í Alpine `python3` —É—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞–µ—Ç—Å—è —Ç–æ–ª—å–∫–æ –≤ `builder` stage –∏ –Ω–µ –ø–æ–ø–∞–¥–∞–µ—Ç –≤ `runner` stage.

### 6. –ü—Ä–æ—á–∏–µ –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∏—è
- `mdast-util-to-hast`: Override –¥–æ `^13.2.1` (CVE-2025-66400).
- `esbuild`: Override –¥–æ `^0.25.0`.
- `kysely`: –û–±–Ω–æ–≤–ª–µ–Ω–æ –¥–æ `0.28.8`.

---
**–ü–æ–¥–≥–æ—Ç–æ–≤–ª–µ–Ω–æ:** Jules (AI Assistant)
**–î–∞—Ç–∞:** 2025-03-03
